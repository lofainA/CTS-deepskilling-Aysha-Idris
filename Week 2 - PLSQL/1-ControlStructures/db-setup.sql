-- Drop tables safely
BEGIN EXECUTE IMMEDIATE 'DROP TABLE loans CASCADE CONSTRAINTS'; EXCEPTION WHEN OTHERS THEN NULL; END;
/
BEGIN EXECUTE IMMEDIATE 'DROP TABLE customers CASCADE CONSTRAINTS'; EXCEPTION WHEN OTHERS THEN NULL; END;
/

-- Customers Table
CREATE TABLE customers (
  customer_id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  name VARCHAR2(100),
  age NUMBER,
  balance NUMBER(10, 2),
  is_vip CHAR(1) DEFAULT 'N' CHECK (is_vip IN ('Y', 'N'))
);

-- Loans Table
CREATE TABLE loans (
  loan_id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  customer_id NUMBER,
  interest_rate NUMBER(5, 2),
  due_date DATE,
  FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);

